---
import { VideoPlayer } from 'react-datocms';
import type { VideoPlayerFragmentData } from './fragments';
import type { ComponentProps } from 'astro/types';

interface Props extends Omit<ComponentProps<typeof VideoPlayer>, 'data'> {
  data: VideoPlayerFragmentData;
}

const { data, ...rest } = Astro.props;
---

{
  /*
    This component is a wrapper for the <VideoPlayer /> component provided by
    react-datocms. We define the necessary
    GraphQL fragment for this component to function only once, then reuse it
    wherever needed.

    The `client:visible` prop is used to ensure that the component loads and
    hydrates once the component has entered the userâ€™s viewport.
  */
}

<VideoPlayer
  {...rest}
  data={data.video ?? undefined}
  accentColor="var(--color-accent)"
  client:visible
/>
